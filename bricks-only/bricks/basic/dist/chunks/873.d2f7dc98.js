"use strict";(self.webpackChunk_next_bricks_basic=self.webpackChunk_next_bricks_basic||[]).push([[873,4454],{4795:(r,e,t)=>{function n(r,e,t,n,i,o,a){try{var c=r[o](a),s=c.value}catch(r){return void t(r)}c.done?e(s):Promise.resolve(s).then(n,i)}function i(r){return function(){var e=this,t=arguments;return new Promise((function(i,o){var a=r.apply(e,t);function c(r){n(a,i,o,c,s,"next",r)}function s(r){n(a,i,o,c,s,"throw",r)}c(void 0)}))}}t.d(e,{Z:()=>i})},4454:(r,e,t)=>{t.r(e),t.d(e,{enqueueStableLoadBricks:()=>d,enqueueStableLoadProcessors:()=>v,flushStableLoadBricks:()=>f,loadBricksImperatively:()=>h,loadProcessorsImperatively:()=>w,loadScript:()=>i,loadSharedModule:()=>c});var n=new Map;function i(r,e){if(Array.isArray(r))return Promise.all(r.map((r=>i(r,e))));var t=e?"".concat(e).concat(r):r,o=n.get(t);if(o)return o;var a=new Promise(((r,e)=>{var n=()=>{window.dispatchEvent(new Event("request.end"))},i=document.createElement("script");i.src=t,i.type="text/javascript",i.async=!0,i.onload=()=>{r(t),n()},i.onerror=r=>{e(r),n()};var o=document.currentScript||document.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o),window.dispatchEvent(new Event("request.start"))}));return n.set(t,a),a}var o,a=t(4795);function c(r,e){return s.apply(this,arguments)}function s(){return(s=(0,a.Z)((function*(r,e){yield t.I("default");var n=window[r];return yield n.init(t.S.default),(yield n.get(e))()}))).apply(this,arguments)}var u,l=!1,p=new Promise((r=>{o=r}));function f(){l||o()}function d(r,e){return _(E("bricks",r,e))}function v(r,e){return _(E("processors",r,e))}function h(r,e){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((function*(r,e){var t=E("bricks",r,e);return f(),_(t)}))).apply(this,arguments)}function w(r,e){var t=E("processors",r,e);return f(),_(t)}var m="v2-adapter.load-bricks";function k(r,e,t){var n=new Map,i=new Set,o=e=>{var a;if(!i.has(e)){var c,s,u;if(i.add(e),"processors"===r||e.includes(".")){[s,u]=e.split(".");var l="bricks/".concat("processors"===r?s.replace(/[A-Z]/g,(r=>"-".concat(r[0].toLocaleLowerCase()))).replace(/_[0-9]/g,(r=>"-".concat(r[1]))):s);c=t.get(l)}else for(var p of(u=e,t.values())){var f;if(null!==(f=p.elements)&&void 0!==f&&f.some((r=>r===u))){c=p;break}}if(!c)throw new Error("Package for ".concat(e," not found."));var d=n.get(c);d||(d=[],n.set(c,d)),d.push(u);var v=null===(a=c.dependencies)||void 0===a?void 0:a[e];if(v)for(var h of v)o(h)}};for(var a of e)o(a);return n}function b(r,e,t){return P.apply(this,arguments)}function P(){return(P=(0,a.Z)((function*(r,e,t){var n="".concat("processors"===r?"./processors/":"./").concat(t);try{yield c(e,n)}catch(t){throw console.error(t),new Error("Load ".concat(r,' of "').concat(e.split("/").pop(),".").concat(n.split("/").pop(),'" failed'))}}))).apply(this,arguments)}function g(r,e,t){return e.map(function(){var e=(0,a.Z)((function*(e){var n;return yield i(e.filePath,null!==(n=window.PUBLIC_ROOT)&&void 0!==n?n:""),yield p,Promise.all(t.get(e).map((t=>b(r,e.id,t))))}));return function(r){return e.apply(this,arguments)}}())}function E(r,e,t){return Z.apply(this,arguments)}function Z(){return Z=(0,a.Z)((function*(r,e,t){var n=new Map;for(var c of t){var s,p=null!==(s=c.id)&&void 0!==s?s:S(c.filePath);n.set(p,c)}var f,d,v=k(r,e,n),h=[],y=[];for(var w of v.keys())w.id?"bricks/basic"===w.id?f=w:y.push(w):(h.push(w),(d=n.get("bricks/v2-adapter"))||console.error("Using v2 bricks, but v2-adapter not found"));var P,E=d,Z=f;if(Z){var _,L=i(Z.filePath,null!==(_=window.PUBLIC_ROOT)&&void 0!==_?_:"");l||(l=!0,L.then((()=>Promise.resolve())).then(o)),P=L.then((()=>Promise.all(v.get(Z).map((e=>b(r,Z.id,e))))))}var B=[P].concat(g(r,y,v));if(E&&h.length>0){if(!u){var q=k("bricks",[m],n),C=[...q.keys()],I=function(){var r=(0,a.Z)((function*(){return yield Promise.all(g("bricks",C,q)),document.createElement(m)}));return function(){return r.apply(this,arguments)}}();u=I()}B.push(u.then((e=>Promise.all(h.map((n=>{var i=S(n.filePath).split("/")[1];return e.resolve(E.filePath,n.filePath,"bricks"===r?v.get(n).map((r=>"".concat(i,".").concat(r))):[],n.dll,t)}))))))}yield Promise.all(B)})),Z.apply(this,arguments)}function _(r){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)((function*(r){window.dispatchEvent(new Event("request.start"));try{yield r}finally{window.dispatchEvent(new Event("request.end"))}}))).apply(this,arguments)}function S(r){return r.split("/").slice(0,2).join("/")}}}]);
//# sourceMappingURL=873.d2f7dc98.js.map