"use strict";(self.webpackChunk_next_bricks_basic=self.webpackChunk_next_bricks_basic||[]).push([[5637],{5637:(i,e,s)=>{s.d(e,{q:()=>t});var t={};function n(i,e){return i+e}function r(i){return"0"!==i&&Boolean(i)}s.r(t),s.d(t,{add:()=>n,bool:()=>o,boolean:()=>r,cmdbInstanceShowName:()=>a,countBy:()=>c,datetime:()=>b,deltaTime:()=>m,divide:()=>v,equal:()=>g,find:()=>h,findIndex:()=>M,findLast:()=>k,findLastIndex:()=>P,get:()=>K,graphTree:()=>S,groupBy:()=>w,groupByToIndex:()=>T,includes:()=>G,join:()=>L,json:()=>C,jsonStringify:()=>N,keyBy:()=>x,map:()=>A,mapToArray:()=>I,mergeArrayByKey:()=>j,multiply:()=>R,not:()=>$,nullish:()=>_,number:()=>O,parseTimeRange:()=>E,randomString:()=>q,reverse:()=>H,round:()=>Li,slice:()=>Y,sort:()=>F,split:()=>J,string:()=>U,substr:()=>W,substring:()=>z,subtract:()=>Q,ternary:()=>V,uniq:()=>X,unitFormat:()=>Si,yaml:()=>Ti,yamlStringify:()=>Gi});const o=r;function a(i){if(Array.isArray(i)){const e=i[0]||"-",s=i.slice(1,i.length).join(",");return s?`${e}(${s})`:e}return i}var d=s(5178);function c(i,e){return(0,d.countBy)(i,e)}var l,u,y=s(5872),p=s.n(y);function b(i,e){return p()(i).format(e)}function f(i){return"object"==typeof i&&null!==i}function B(i,e){return"number"==typeof i?p()(i):p()(i,e)}function m(i,e=!0,s="YYYY-MM-DD HH:mm:ss"){if(!i)return"";if(f(i)&&i.startTime&&i.endTime){const t=B(i.startTime,s),n=B(i.endTime,s);return p().duration(n.diff(t)).humanize(e)}const t=B(f(i)?i.startTime||i.endTime:i,s);return p().duration(t.diff(p()())).humanize(e)}function v(i,e){return i/e}function g(i,e){return(0,d.isEqual)(i,e)}function h(i,e,s){return(0,d.find)(i,e,s)}function M(i,e,s){return(0,d.findIndex)(i,e,s)}function k(i,e,s){return(0,d.findLast)(i,e,s)}function P(i,e,s){return(0,d.findLastIndex)(i,e,s)}function K(i,e,s){return(0,d.get)(i,e,s)}function S(i,e){if(!i)return[];const s=e?.sort,t=(0,d.groupBy)(i.edges,"out"),n=e=>{const r=t[e.instanceId];if((0,d.forEach)(r,(s=>{const t=s.out_name,r=(0,d.find)(i.vertices,["instanceId",s.in]);if(r){const i=n(r);e[t]?e[t].push(i):e[t]=[i]}})),s){const i=(0,d.uniq)((0,d.map)(r,"out_name"));(0,d.forEach)(i,(i=>{(0,d.isEmpty)(e[i])||(e[i]=(0,d.orderBy)(e[i],(i=>(0,d.get)(i,s.key)??-1/0),-1===s.order?"desc":"asc"))}))}return e};return i.topic_vertices?.map((i=>n(i)))??[]}function w(i,e){return(0,d.groupBy)(i,e)}function T(i,e,s){let t=i;if(!(0,d.isNil)(e)&&!(0,d.isNil)(s)){const n=(0,d.groupBy)(i,e),r=(0,d.keys)(n).sort();t=t.map((i=>{const t={...i};return(0,d.set)(t,s,(0,d.indexOf)(r,(0,d.get)(i,e))),t}))}return t}function G(i,e){return i.includes(e)}function L(i,e=","){return Array.isArray(i)?i.join(e):""}function C(i){if((0,d.isNil)(i))return i;try{return JSON.parse(i)}catch(i){return void console.error(i)}}function N(i,e=2){try{return JSON.stringify(i,null,e)}catch(i){return void console.error(i)}}function x(i,e){return(0,d.keyBy)(i,e)}function A(i,e){return Array.isArray(i)?i.map((i=>(0,d.get)(i,e))):[]}function I(i,e,s){return"object"==typeof i&&i?Object.entries(i).map((([i,t])=>({[e]:i,[s]:t}))):[]}function j(i,e){return i.reduce(((i,s)=>Object.values((0,d.mergeWith)((0,d.keyBy)(i,e),(0,d.keyBy)(s,e),D))),[])}function D(i,e){if((0,d.isArray)(i))return i.concat(e)}function R(i,e){return i*e}function $(i){return!i}function _(i,e){return i??e}function O(i){return Number(i)}function E(i){if("now/d"===i)return+p()().startOf("day");if("now/y"===i)return+p()().startOf("year");const e=/^now-(\d+)(\w+)/.exec(i);if(null!==e){const[,i,s]=e;return+p()().subtract(i,s)}return i?+i:+p()()}function q(i,e){i=i>0?i:8,e="string"==typeof e?e:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";for(let t=0;t<i;t++)s+=e.charAt(Math.floor(Math.random()*e.length));return s}function H(i){return Array.isArray(i)?i.slice().reverse():[]}function Y(i,e,s){return i.slice(e,s)}function F(i,e){return Array.isArray(i)?(0,d.sortBy)(i,e):[]}function J(i,e){return"string"==typeof i?i.split(e):[]}function U(i){return null==i?"":String(i)}function W(i,e,s){return"string"==typeof i?i.substr(e,s):""}function z(i,e,s){return"string"==typeof i?i.substring(e,s):""}function Q(i,e){return i-e}function V(i,e,s){return i?e:s}function X(i){return(0,d.uniq)(i)}!function(i){i.Time="time",i.Byte="byte",i.Bibyte="bibyte",i.BitRate="bitRate",i.ByteRate="byteRate"}(l||(l={})),function(i){i.Percent1="percent(1)",i.Percent100="percent(100)"}(u||(u={}));const Z=[u.Percent1,u.Percent100];var ii;!function(i){i.Bytes="bytes",i.Kilobytes="kilobytes",i.Megabytes="megabytes",i.Gigabytes="gigabytes",i.Terabytes="terabytes",i.Petabytes="petabytes",i.Bibytes="bibytes",i.Kibibytes="kibibytes",i.Mebibytes="mebibytes",i.Gibibytes="gibibytes",i.Tebibytes="tebibytes",i.Pebibytes="pebibytes",i.b="b",i.B="B",i.KB="KB",i.MB="MB",i.GB="GB"}(ii||(ii={}));const ei=[{id:ii.Bytes,alias:["B","bytes(B)"],divisor:1,display:"B"},{id:ii.Kilobytes,alias:["KB","kilobytes(KB)"],divisor:1e3,display:"KB"},{id:ii.Megabytes,alias:["MB","megabytes(MB)"],divisor:1e6,display:"MB"},{id:ii.Gigabytes,alias:["GB","gigabytes(GB)"],divisor:1e3**3,display:"GB"},{id:ii.Terabytes,alias:["TB","terabytes(TB)"],divisor:1e3**4,display:"TB"},{id:ii.Petabytes,alias:["PB","petabytes(PB)"],divisor:1e3**5,display:"PB"}],si=[{id:ii.Bibytes,alias:["B","bibytes(B)"],divisor:1,display:"B"},{id:ii.Kibibytes,alias:["KiB","kibibytes(KiB)"],divisor:1024,display:"KiB"},{id:ii.Mebibytes,alias:["MiB","mebibytes(MiB)"],divisor:1048576,display:"MiB"},{id:ii.Gibibytes,alias:["GiB","gibibytes(GiB)"],divisor:1024**3,display:"GiB"},{id:ii.Tebibytes,alias:["TiB","tebibytes(TiB)"],divisor:1024**4,display:"TiB"},{id:ii.Pebibytes,alias:["PiB","pebibytes(PiB)"],divisor:1024**5,display:"PiB"}],ti=[{id:ii.b,divisor:1,display:"b"},{id:ii.B,divisor:8,display:"B"},{id:ii.KB,divisor:8192,display:"KB"},{id:ii.MB,divisor:8388608,display:"MB"},{id:ii.GB,divisor:8589934592,display:"GB"}];var ni;!function(i){i.BitsPerSecond="bits/sec",i.KilobitsPerSecond="kilobits/sec",i.MegabitsPerSecond="megabits/sec",i.GigabitsPerSecond="gigabits/sec",i.BytesPerSecond="bytes/sec",i.KilobytesPerSecond="kilobytes/sec",i.MegabytesPerSecond="megabytes/sec",i.GigabytesPerSecond="gigabytes/sec",i.bps="bps",i.Bps="Bps",i.KBps="KBps",i.MBps="MBps",i.GBps="GBps"}(ni||(ni={}));const ri=[{id:ni.BitsPerSecond,alias:["bps","bits/sec(bps)"],divisor:1,display:"bps"},{id:ni.KilobitsPerSecond,alias:["Kbps","kilobits/sec(Kbps)"],divisor:1024,display:"Kbps"},{id:ni.MegabitsPerSecond,alias:["Mbps","megabits/sec(Mbps)"],divisor:1048576,display:"Mbps"},{id:ni.GigabitsPerSecond,alias:["Gbps","gigabits/sec(Gbps)"],divisor:1073741824,display:"Gbps"}],oi=[{id:ni.BytesPerSecond,alias:["Bps","bytes/sec(Bps)"],divisor:8,display:"Bps"},{id:ni.KilobytesPerSecond,alias:["KBps","kilobytes/sec(KBps)"],divisor:8192,display:"KBps"},{id:ni.MegabytesPerSecond,alias:["MBps","megabytes/sec(MBps)"],divisor:8388608,display:"MBps"},{id:ni.GigabytesPerSecond,alias:["GBps","gigabytes/sec(GBps)"],divisor:8589934592,display:"GBps"}],ai=[{id:ni.bps,divisor:1,display:"bps"},{id:ni.Bps,divisor:8,display:"Bps"},{id:ni.KBps,divisor:8192,display:"KBps"},{id:ni.MBps,divisor:8388608,display:"MBps"},{id:ni.GBps,divisor:8589934592,display:"GBps"}];var di;!function(i){i.Nanosecond="nanoseconds",i.Microsecond="microseconds",i.Milliseconds="milliseconds",i.Seconds="seconds",i.Minutes="minutes",i.Hours="hours",i.Days="days",i.Weeks="weeks",i.Months="months",i.Years="years",i.ms="ms",i.s="s",i.min="min",i.hour="hour",i.day="day",i.week="week"}(di||(di={}));const ci=[{id:di.Nanosecond,alias:["ns","nanoseconds(ns)"],divisor:1,display:"ns"},{id:di.Microsecond,alias:["μs","microseconds(μs)"],divisor:1e3,display:"μs"},{id:di.Milliseconds,alias:["ms","milliseconds(ms)"],divisor:1e6,display:"ms"},{id:di.Seconds,alias:["s","seconds(s)"],divisor:1e9,display:"s"},{id:di.Minutes,alias:["min","minutes(min)"],divisor:6e10,display:"min"},{id:di.Hours,alias:["hour","hours(hour)"],divisor:36e11,display:"hour"},{id:di.Days,alias:["day","days(day)"],divisor:864e11,display:"day"},{id:di.Weeks,alias:["week","weeks(week)"],divisor:6048e11,display:"week"},{id:di.Months,alias:["month","months(month)"],divisor:2592e12,display:"month"},{id:di.Years,alias:["year","years(year)"],divisor:31536e12,display:"year"}];var li;di.ms,di.s,di.min,di.hour,di.day,di.week,l.Time,l.Byte,l.Bibyte,l.BitRate,l.ByteRate,function(i){i.None="none",i.K="K",i.M="M",i.B="B",i.T="T"}(li||(li={}));const ui=[{id:li.None,divisor:1,display:""},{id:li.K,divisor:1e3,display:"K"},{id:li.M,divisor:1e6,display:"M"},{id:li.B,divisor:1e9,display:"B"},{id:li.T,divisor:1e12,display:"T"}],yi=(i,e)=>i.id.toLocaleLowerCase()===e?.toLocaleLowerCase()||i.alias&&i.alias.map((i=>i.toLocaleLowerCase())).includes(e),pi=(i,e)=>i.id.toLocaleLowerCase()===e?.toLocaleLowerCase()||i.alias&&i.alias.includes(e),bi=[ci],fi=[].concat.apply([],bi.map((i=>[...i.map((i=>i.id)),...[].concat.apply([],i.map((i=>i.alias?i.alias:[])))]))),Bi=[ei,si,ti],mi=[].concat.apply([],Bi.map((i=>[...i.map((i=>i.id)),...[].concat.apply([],i.map((i=>i.alias?i.alias:[])))]))),vi=[ri,oi,ai],gi=[].concat.apply([],vi.map((i=>[...i.map((i=>i.id)),...[].concat.apply([],i.map((i=>i.alias?i.alias:[])))]))),hi=(i,e,s)=>{let t=0;const n=Math.sign(i),r=Math.abs(i);if(e){const i=ui.findIndex((i=>i.id.toLocaleLowerCase()===e.toLocaleLowerCase()));-1!==i&&(t=i)}let o=ui[t];for(let i=t+1;i<ui.length&&r/(ui[i].divisor/ui[t].divisor)>=1;++i)o=ui[i];return o.id===li.None?(n*r).toFixed(s??2):(r/(o.divisor/ui[t].divisor)*n).toFixed(s??2)+o.display};var Mi;!function(i){i.None="none",i.Short="short",i.Percent="percent",i.Time="time",i.Data="data",i.DataRate="data_rate"}(Mi||(Mi={}));const ki={[Mi.None]:[],[Mi.Short]:[],[Mi.Percent]:Z,[Mi.Time]:fi,[Mi.Data]:mi,[Mi.DataRate]:gi},Pi=(i,e)=>void 0===e?i.toString():i.toFixed(e),Ki=(i,e)=>{if(!e)return[hi(i),null];{let{type:s}=e;s||(e.unit?(s=Mi.Short,Object.entries(ki).map((([i,t])=>{t.map((i=>i.toLocaleLowerCase())).includes(e.unit.toLocaleLowerCase())&&(s=i)}))):s=Mi.None);const t=void 0===e?.precision?2:e.precision;switch(s){case Mi.Percent:{const s=function(i,e){return e&&e.toLocaleLowerCase()===u.Percent100.toLocaleLowerCase()?i:100*i}(i,e.unit);return[`${Pi(s,t)}%`,null]}case Mi.Time:{const[s,t]=function(i,e,s){let t=0,n=2,r=-1;if(e)for(let i=0;i<bi.length;++i){let o=-1,a=-1;if(bi[i].forEach(((i,t)=>{yi(i,e)&&(o=t),yi(i,s)&&(a=t)})),-1!==o){t=i,n=o,r=a;break}}else s&&(r=bi[t].findIndex((i=>yi(i,s))));const o=bi[t],a=o[n];let d=a;if(-1===r)for(let e=n+1;e<o.length&&i/(o[e].divisor/a.divisor)>=1;++e)d=o[e];else d=o[r];return s&&-1===r&&console.warn(`Cannot convert unit "${e||a.display}" to "${s}"`),[i/(d.divisor/a.divisor),d.display]}(i,e.unit,e.targetUnit);return[`${Pi(s,void 0===e?.precision?1:e.precision)}`,t]}case Mi.Data:{const[s,n]=function(i,e,s){let t=Bi.length-1,n=0,r=-1;const o=Math.sign(i),a=Math.abs(i);if(e)for(let i=0;i<Bi.length;++i){let o=-1,a=-1;if(Bi[i].forEach(((i,t)=>{pi(i,e)&&(o=t),pi(i,s)&&(a=t)})),-1!==o){t=i,n=o,r=a;break}}else s&&(r=Bi[t].findIndex((i=>pi(i,s))));const d=Bi[t],c=d[n];let l=c;if(-1===r)for(let i=n+1;i<d.length&&a/(d[i].divisor/c.divisor)>=1;++i)l=d[i];else l=d[r];return s&&-1===r&&console.warn(`Cannot convert unit "${e||c.display}" to "${s}"`),[a/(l.divisor/c.divisor)*o,l.display]}(i,e.unit,e.targetUnit);return[`${Pi(s,t)}`,n]}case Mi.DataRate:{const[s,n]=function(i,e,s){let t=vi.length-1,n=0,r=-1;const o=Math.sign(i),a=Math.abs(i);if(e)for(let i=0;i<vi.length;++i){let o=-1,a=-1;if(vi[i].forEach(((i,t)=>{yi(i,e)&&(o=t),yi(i,s)&&(a=t)})),-1!==o){t=i,n=o,r=a;break}}else s&&(r=vi[t].findIndex((i=>yi(i,s))));const d=vi[t],c=d[n];let l=c;if(-1===r)for(let i=n+1;i<d.length&&a/(d[i].divisor/c.divisor)>=1;++i)l=d[i];else l=d[r];return s&&-1===r&&console.warn(`Cannot convert unit "${e||c.display}" to "${s}"`),[a/(l.divisor/c.divisor)*o,l.display]}(i,e.unit,e.targetUnit);return[`${Pi(s,t)}`,n]}case Mi.None:return[Pi(i,t),""];default:return[hi(i,e.unit,t),e.unit]}}};function Si(i,e,s=2,t){return Ki(i,{unit:e,precision:s,targetUnit:t})}var wi=s(5899);function Ti(i){let e;try{e=(0,wi.safeLoad)(i,{schema:wi.JSON_SCHEMA,json:!0})}catch(i){console.error(i)}return e}function Gi(i,e=2){let s;try{s=(0,wi.safeDump)(i,{indent:e,schema:wi.JSON_SCHEMA,skipInvalid:!0,noRefs:!0,noCompatMode:!0})}catch(i){console.error(i)}return s}function Li(i,e){return(0,d.round)(i,e)}}}]);
//# sourceMappingURL=5637.52584abc.js.map