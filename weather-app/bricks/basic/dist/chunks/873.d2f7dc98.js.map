{"version":3,"file":"chunks/873.d2f7dc98.js","mappings":"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","sources":["webpack:///../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///../../node_modules/@next-core/loader/dist/esm/loadScript.js","webpack:///../../node_modules/@next-core/loader/dist/esm/stableLoadBricks.js","webpack:///../../node_modules/@next-core/loader/dist/esm/loadSharedModule.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","var cache = new Map();\nexport default function loadScript(src, prefix) {\n  if (Array.isArray(src)) {\n    return Promise.all(src.map(item => loadScript(item, prefix)));\n  }\n  var fixedSrc = prefix ? \"\".concat(prefix).concat(src) : src;\n  var cachedPromise = cache.get(fixedSrc);\n  if (cachedPromise) {\n    return cachedPromise;\n  }\n  var promise = new Promise((resolve, reject) => {\n    var end = () => {\n      window.dispatchEvent(new Event(\"request.end\"));\n    };\n    var script = document.createElement(\"script\");\n    script.src = fixedSrc;\n    script.type = \"text/javascript\";\n    script.async = true;\n    script.onload = () => {\n      resolve(fixedSrc);\n      end();\n    };\n    script.onerror = e => {\n      reject(e);\n      end();\n    };\n    var firstScript = document.currentScript || document.getElementsByTagName(\"script\")[0];\n    firstScript.parentNode.insertBefore(script, firstScript);\n    window.dispatchEvent(new Event(\"request.start\"));\n  });\n  cache.set(fixedSrc, promise);\n  return promise;\n}\n//# sourceMappingURL=loadScript.js.map","import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport loadScript from \"./loadScript.js\";\nimport loadSharedModule from \"./loadSharedModule.js\";\nvar resolveBasicPkg;\nvar basicPkgWillBeResolved = false;\nvar waitBasicPkg = new Promise(resolve => {\n  resolveBasicPkg = resolve;\n});\nexport function flushStableLoadBricks() {\n  if (!basicPkgWillBeResolved) {\n    resolveBasicPkg();\n  }\n}\n\n/**\n * When loading bundles with webpack module federation concurrently, if\n * these bundles share some modules, webpack will load a singleton module\n * if versions are matched. Webpack will use the first bundle who started\n * to init the shared scope. Generally which bundle to use for a specific\n * module, does not matter. However, it may cause flaky result since the\n * shared module may from different bundles which maybe not exactly the\n * same, especially developers declare dependencies incorrectly sometimes.\n * So in order to make it less flaky, we try to make a BASIC package takes\n * precedence over others. We will always load the shared modules from the\n * basic package bundle if it contains the shared modules.\n */\nexport function enqueueStableLoadBricks(bricks, brickPackages) {\n  var promise = enqueueStableLoad(\"bricks\", bricks, brickPackages);\n  return dispatchRequestStatus(promise);\n}\nexport function enqueueStableLoadProcessors(processors, brickPackages) {\n  var promise = enqueueStableLoad(\"processors\", processors, brickPackages);\n  return dispatchRequestStatus(promise);\n}\nexport function loadBricksImperatively(_x, _x2) {\n  return _loadBricksImperatively.apply(this, arguments);\n}\nfunction _loadBricksImperatively() {\n  _loadBricksImperatively = _asyncToGenerator(function* (bricks, brickPackages) {\n    var promise = enqueueStableLoad(\"bricks\", bricks, brickPackages);\n    flushStableLoadBricks();\n    return dispatchRequestStatus(promise);\n  });\n  return _loadBricksImperatively.apply(this, arguments);\n}\nexport function loadProcessorsImperatively(processors, brickPackages) {\n  var promise = enqueueStableLoad(\"processors\", processors, brickPackages);\n  flushStableLoadBricks();\n  return dispatchRequestStatus(promise);\n}\nvar v2AdapterPromise;\nvar V2_ADAPTER_LOAD_BRICKS = \"v2-adapter.load-bricks\";\n\n// Get brick/processor items including their dependencies\nfunction getItemsByPkg(type, list, brickPackagesMap) {\n  var itemsByPkg = new Map();\n  var listToLoad = new Set();\n  var add = item => {\n    var _pkg$dependencies;\n    if (listToLoad.has(item)) {\n      return;\n    }\n    listToLoad.add(item);\n    var pkg;\n    var namespace;\n    var itemName;\n    if (type === \"processors\" || item.includes(\".\")) {\n      [namespace, itemName] = item.split(\".\");\n      var pkgId = \"bricks/\".concat(type === \"processors\" ? getProcessorPackageName(namespace) : namespace);\n      pkg = brickPackagesMap.get(pkgId);\n    } else {\n      itemName = item;\n      for (var p of brickPackagesMap.values()) {\n        var _p$elements;\n        if ((_p$elements = p.elements) !== null && _p$elements !== void 0 && _p$elements.some(e => e === itemName)) {\n          pkg = p;\n          break;\n        }\n      }\n    }\n    if (!pkg) {\n      throw new Error(\"Package for \".concat(item, \" not found.\"));\n    }\n    var groupItems = itemsByPkg.get(pkg);\n    if (!groupItems) {\n      groupItems = [];\n      itemsByPkg.set(pkg, groupItems);\n    }\n    groupItems.push(itemName);\n\n    // Load their dependencies too\n    var deps = (_pkg$dependencies = pkg.dependencies) === null || _pkg$dependencies === void 0 ? void 0 : _pkg$dependencies[item];\n    if (deps) {\n      for (var dep of deps) {\n        add(dep);\n      }\n    }\n  };\n  for (var item of list) {\n    add(item);\n  }\n  return itemsByPkg;\n}\nfunction loadBrickModule(_x3, _x4, _x5) {\n  return _loadBrickModule.apply(this, arguments);\n}\nfunction _loadBrickModule() {\n  _loadBrickModule = _asyncToGenerator(function* (type, pkgId, itemName) {\n    var moduleName = \"\".concat(type === \"processors\" ? \"./processors/\" : \"./\").concat(itemName);\n    try {\n      yield loadSharedModule(pkgId, moduleName);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n      throw new Error(\"Load \".concat(type, \" of \\\"\").concat(pkgId.split(\"/\").pop(), \".\").concat(moduleName.split(\"/\").pop(), \"\\\" failed\"));\n    }\n  });\n  return _loadBrickModule.apply(this, arguments);\n}\nfunction loadRestBricks(type, pkgs, itemsMap) {\n  return pkgs.map( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (pkg) {\n      var _window$PUBLIC_ROOT;\n      yield loadScript(pkg.filePath, (_window$PUBLIC_ROOT = window.PUBLIC_ROOT) !== null && _window$PUBLIC_ROOT !== void 0 ? _window$PUBLIC_ROOT : \"\");\n      yield waitBasicPkg;\n      return Promise.all(\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      itemsMap.get(pkg).map(itemName => loadBrickModule(type, pkg.id, itemName)));\n    });\n    return function (_x6) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\nfunction enqueueStableLoad(_x7, _x8, _x9) {\n  return _enqueueStableLoad.apply(this, arguments);\n}\nfunction _enqueueStableLoad() {\n  _enqueueStableLoad = _asyncToGenerator(function* (type, list, brickPackages) {\n    var brickPackagesMap = new Map();\n    for (var pkg of brickPackages) {\n      var _pkg$id;\n      var pkgId = (_pkg$id = pkg.id) !== null && _pkg$id !== void 0 ? _pkg$id : getPkgIdByFilePath(pkg.filePath);\n      brickPackagesMap.set(pkgId, pkg);\n    }\n    var itemsByPkg = getItemsByPkg(type, list, brickPackagesMap);\n    var foundBasicPkg;\n    var v2Packages = [];\n    var v3PackagesOtherThanBasic = [];\n    var maybeV2Adapter;\n    for (var _pkg of itemsByPkg.keys()) {\n      if (_pkg.id) {\n        if (_pkg.id === \"bricks/basic\") {\n          foundBasicPkg = _pkg;\n        } else {\n          v3PackagesOtherThanBasic.push(_pkg);\n        }\n      } else {\n        // Brick packages of v2 has no `id`\n        v2Packages.push(_pkg);\n        maybeV2Adapter = brickPackagesMap.get(\"bricks/v2-adapter\");\n        if (!maybeV2Adapter) {\n          // eslint-disable-next-line no-console\n          console.error(\"Using v2 bricks, but v2-adapter not found\");\n        }\n      }\n    }\n    var v2Adapter = maybeV2Adapter;\n    var basicPkgPromise;\n    var basicPkg = foundBasicPkg;\n    if (basicPkg) {\n      var _window$PUBLIC_ROOT2;\n      var tempPromise = loadScript(basicPkg.filePath, (_window$PUBLIC_ROOT2 = window.PUBLIC_ROOT) !== null && _window$PUBLIC_ROOT2 !== void 0 ? _window$PUBLIC_ROOT2 : \"\");\n      // Packages other than BASIC will wait for an extra micro-task tick.\n      if (!basicPkgWillBeResolved) {\n        basicPkgWillBeResolved = true;\n        tempPromise.then(() => Promise.resolve()).then(resolveBasicPkg);\n      }\n      basicPkgPromise = tempPromise.then(() => Promise.all(\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      itemsByPkg.get(basicPkg).map(itemName => loadBrickModule(type, basicPkg.id, itemName))));\n    }\n    var pkgPromises = [basicPkgPromise].concat(loadRestBricks(type, v3PackagesOtherThanBasic, itemsByPkg));\n    if (v2Adapter && v2Packages.length > 0) {\n      if (!v2AdapterPromise) {\n        // Load `v2-adapter.load-bricks` and its dependencies\n        var v2AdapterItemsByPkg = getItemsByPkg(\"bricks\", [V2_ADAPTER_LOAD_BRICKS], brickPackagesMap);\n        var v2AdapterPackages = [...v2AdapterItemsByPkg.keys()];\n        var loadV2Adapter = /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator(function* () {\n            yield Promise.all(loadRestBricks(\"bricks\", v2AdapterPackages, v2AdapterItemsByPkg));\n            return document.createElement(V2_ADAPTER_LOAD_BRICKS);\n          });\n          return function loadV2Adapter() {\n            return _ref2.apply(this, arguments);\n          };\n        }();\n        v2AdapterPromise = loadV2Adapter();\n      }\n      pkgPromises.push(v2AdapterPromise.then(adapter => Promise.all(v2Packages.map(pkg => {\n        var pkgId = getPkgIdByFilePath(pkg.filePath);\n        var pkgNamespace = pkgId.split(\"/\")[1];\n        return adapter.resolve(v2Adapter.filePath, pkg.filePath, type === \"bricks\" ?\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        itemsByPkg.get(pkg).map(itemName => \"\".concat(pkgNamespace, \".\").concat(itemName)) : [], pkg.dll,\n        // Todo: remove `brickPackages` as an argument\n        brickPackages);\n      }))));\n    }\n    yield Promise.all(pkgPromises);\n  });\n  return _enqueueStableLoad.apply(this, arguments);\n}\nfunction dispatchRequestStatus(_x10) {\n  return _dispatchRequestStatus.apply(this, arguments);\n}\nfunction _dispatchRequestStatus() {\n  _dispatchRequestStatus = _asyncToGenerator(function* (promise) {\n    window.dispatchEvent(new Event(\"request.start\"));\n    try {\n      yield promise;\n    } finally {\n      window.dispatchEvent(new Event(\"request.end\"));\n    }\n  });\n  return _dispatchRequestStatus.apply(this, arguments);\n}\nfunction getProcessorPackageName(camelPackageName) {\n  return camelPackageName.replace(/[A-Z]/g, match => \"-\".concat(match[0].toLocaleLowerCase())).replace(/_[0-9]/g, match => \"-\".concat(match[1]));\n}\nfunction getPkgIdByFilePath(filePath) {\n  return filePath.split(\"/\").slice(0, 2).join(\"/\");\n}\n//# sourceMappingURL=stableLoadBricks.js.map","import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\n// https://github.com/module-federation/module-federation-examples/blob/eda9493f3991a423479fd834cfb1d7b241d9d1f0/advanced-api/dynamic-remotes/app1/src/App.js\nexport default function loadSharedModule(_x, _x2) {\n  return _loadSharedModule.apply(this, arguments);\n}\nfunction _loadSharedModule() {\n  _loadSharedModule = _asyncToGenerator(function* (scope, module) {\n    // Initializes the share scope. This fills it with known provided modules from this build and all remotes\n    yield __webpack_init_sharing__(\"default\");\n    var container = window[scope]; // or get the container somewhere else\n    // Initialize the container, it may provide shared modules\n    yield container.init(__webpack_share_scopes__.default);\n    var factory = yield container.get(module);\n    return factory();\n  });\n  return _loadSharedModule.apply(this, arguments);\n}\n//# sourceMappingURL=loadSharedModule.js.map"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","cache","Map","loadScript","src","prefix","Array","isArray","all","map","item","fixedSrc","concat","cachedPromise","get","promise","end","window","dispatchEvent","Event","script","document","createElement","type","async","onload","onerror","e","firstScript","currentScript","getElementsByTagName","parentNode","insertBefore","set","resolveBasicPkg","loadSharedModule","_x","_x2","_loadSharedModule","scope","module","container","init","default","v2AdapterPromise","basicPkgWillBeResolved","waitBasicPkg","flushStableLoadBricks","enqueueStableLoadBricks","bricks","brickPackages","dispatchRequestStatus","enqueueStableLoad","enqueueStableLoadProcessors","processors","loadBricksImperatively","_loadBricksImperatively","loadProcessorsImperatively","V2_ADAPTER_LOAD_BRICKS","getItemsByPkg","list","brickPackagesMap","itemsByPkg","listToLoad","Set","add","_pkg$dependencies","has","pkg","namespace","itemName","includes","split","pkgId","replace","match","toLocaleLowerCase","p","values","_p$elements","elements","some","Error","groupItems","push","deps","dependencies","dep","loadBrickModule","_x3","_x4","_x5","_loadBrickModule","moduleName","console","pop","loadRestBricks","pkgs","itemsMap","_ref","_window$PUBLIC_ROOT","filePath","PUBLIC_ROOT","id","_x6","_x7","_x8","_x9","_enqueueStableLoad","_pkg$id","getPkgIdByFilePath","foundBasicPkg","maybeV2Adapter","v2Packages","v3PackagesOtherThanBasic","_pkg","keys","basicPkgPromise","v2Adapter","basicPkg","_window$PUBLIC_ROOT2","tempPromise","pkgPromises","length","v2AdapterItemsByPkg","v2AdapterPackages","loadV2Adapter","_ref2","adapter","pkgNamespace","dll","_x10","_dispatchRequestStatus","slice","join"],"sourceRoot":""}