{"version":3,"file":"chunks/3890.d03afafa.js","mappings":"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","sources":["webpack:///./src/shared/common.css?c6e5","webpack:///./src/shared/common.ts","webpack:///./src/sl-icon/index.ts","webpack:///./src/sl-dialog/index.ts","webpack:///./src/sl-button/index.ts","webpack:///./src/data-providers/i18n.ts","webpack:///./src/data-providers/show-dialog/dialog.module.css?1eef","webpack:///./src/data-providers/show-dialog/show-dialog.tsx","webpack:///./src/data-providers/show-notification/show-notification.ts","webpack:///./src/shared/common.css","webpack:///./src/data-providers/show-dialog/dialog.module.css"],"sourcesContent":["\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./common.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./common.css\";\n       export default content && content.locals ? content.locals : undefined;\n","// istanbul ignore file\nimport \"@shoelace-style/shoelace/dist/themes/light.css\";\nimport \"@shoelace-style/shoelace/dist/themes/dark.css\";\nimport { setBasePath } from \"@shoelace-style/shoelace/dist/utilities/base-path.js\";\nimport \"./common.css\";\n\n\nsetBasePath(process.env.NODE_ENV === \"test\" ? \"\" : __webpack_public_path__);\n\ntype SiteTheme = \"light\" | \"dark\" | \"dark-v2\";\n\nfunction syncTheme(theme: SiteTheme) {\n  document.documentElement.classList[theme === \"dark\" || theme === \"dark-v2\" ? \"add\" : \"remove\"](\n    \"sl-theme-dark\"\n  );\n}\n\nsyncTheme(document.documentElement.dataset.theme as SiteTheme);\n\nwindow.addEventListener(\"theme.change\", (event) => {\n  syncTheme((event as CustomEvent<SiteTheme>).detail);\n});\n","// Define bricks: sl-icon, sl-icon-button\n// istanbul ignore file\nimport { wrapLocalBrick } from \"@next-core/react-element\";\nimport \"@shoelace-style/shoelace/dist/components/icon/icon.js\";\nimport \"@shoelace-style/shoelace/dist/components/icon-button/icon-button.js\";\nimport \"../shared/common.js\";\n\nexport interface SlIconProps {\n  name: string;\n}\n\nexport const WrappedSlIcon = wrapLocalBrick<HTMLElement, SlIconProps>(\"sl-icon\");\n","// Define brick: sl-dialog\n// istanbul ignore file\nimport { wrapLocalBrick } from \"@next-core/react-element\";\nimport \"@shoelace-style/shoelace/dist/components/dialog/dialog.js\";\nimport \"../shared/common.js\";\n\nexport interface SlDialogProps {\n  label?: string;\n  open?: boolean;\n  noHeader?: boolean;\n}\n\nexport interface SlDialogEvents {\n  \"sl-hide\": Event;\n  \"sl-request-close\": Event;\n}\n\nexport interface SlDialogMapEvents {\n  onSlHide: \"sl-hide\";\n  onSlRequestClose: \"sl-request-close\";\n}\n\nexport interface SlDialogElement extends HTMLElement {\n  show(): void;\n  hide(): void;\n}\n\nexport const WrappedSlDialog = wrapLocalBrick<SlDialogElement, SlDialogProps, SlDialogEvents, SlDialogMapEvents>(\"sl-dialog\", {\n  onSlHide: \"sl-hide\",\n  onSlRequestClose: \"sl-request-close\",\n});\n","// Define brick: sl-button\n// istanbul ignore file\nimport { wrapLocalBrick } from \"@next-core/react-element\";\nimport \"@shoelace-style/shoelace/dist/components/button/button.js\";\nimport \"../shared/common.js\";\n\nexport interface SlButtonProps {\n  variant?: string;\n}\n\nexport const WrappedSlButton = wrapLocalBrick<HTMLElement, SlButtonProps>(\"sl-button\");\n","// istanbul ignore file\nexport enum K {\n  OK = \"OK\",\n  CANCEL = \"CANCEL\",\n}\n\nconst en: Locale = {\n  OK: \"Ok\",\n  CANCEL: \"Cancel\",\n};\n\nconst zh: Locale = {\n  OK: \"确认\",\n  CANCEL: \"取消\",\n};\n\nexport const NS = \"bricks/shoelace/dialog\";\n\nexport const locales = { en, zh };\n\ntype Locale = { [key in K]: string };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./dialog.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./dialog.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useCallback, useMemo, useRef } from \"react\";\nimport { createProviderClass } from \"@next-core/utils/storyboard\";\nimport { i18n, initializeI18n } from \"@next-core/i18n\";\nimport { createRoot } from \"react-dom/client\";\nimport { SlDialogElement, WrappedSlDialog } from \"../../sl-dialog/index.js\";\nimport { WrappedSlIcon } from \"../../sl-icon/index.js\";\nimport { WrappedSlButton } from \"../../sl-button/index.js\";\nimport { K, NS, locales } from \"../i18n.js\";\nimport styles from \"./dialog.module.css\";\n\ninitializeI18n(NS, locales);\n\nexport interface DialogProps {\n  type?: \"success\" | \"error\" | \"warn\" | \"info\" | \"confirm\";\n  title?: string;\n  content: string;\n  contentStyle?: React.CSSProperties;\n}\n\nexport function showDialog(props: DialogProps) {\n  const container = document.createElement(\"div\");\n  document.body.append(container);\n  const root = createRoot(container);\n\n  let onOk: (() => void) | undefined;\n  let onCancel: (() => void) | undefined;\n\n  const promise = new Promise<void>((resolve, reject) => {\n    onOk = resolve;\n    onCancel = reject;\n  });\n\n  const onHide = () => {\n    root.unmount();\n    container.remove();\n  };\n\n  root.render(\n    <DialogComponent {...props} onOk={onOk} onCancel={onCancel} onHide={onHide} />\n  );\n\n  return promise;\n}\n\nexport function DialogComponent({\n  type,\n  title,\n  content,\n  contentStyle,\n  onOk,\n  onCancel,\n  onHide,\n}: DialogProps & {\n  onOk?(): void;\n  onCancel?(): void;\n  onHide?(): void;\n}) {\n  const ref = useRef<SlDialogElement | null>(null);\n  const icon = useMemo(() => {\n    switch (type) {\n      case \"success\":\n        return {\n          name: \"check2-circle\",\n          color: styles.success,\n        };\n      case \"error\":\n        return {\n          name: \"exclamation-octagon\",\n          color: styles.danger,\n        };\n      case \"warn\":\n      case \"confirm\":\n        return {\n          name: \"exclamation-triangle\",\n          color: styles.warning,\n        };\n      case \"info\":\n        return {\n          name: \"info-circle\",\n          color: styles.primary,\n        };\n    }\n  }, [type]);\n\n  const onSlRequestClose = useCallback((e: Event) => {\n    e.preventDefault();\n  }, []);\n\n  const onOkClick = useCallback(() => {\n    ref.current?.hide();\n    onOk?.();\n  }, [onOk]);\n\n  const onCancelClick = useCallback(() => {\n    ref.current?.hide();\n    onCancel?.();\n  }, [onCancel]);\n\n  return (\n    <WrappedSlDialog\n      label={title ?? \"Dialog\"}\n      open\n      noHeader\n      className={styles.dialog}\n      onSlHide={onHide}\n      onSlRequestClose={onSlRequestClose}\n      ref={ref}\n    >\n      <div className={styles.body}>\n        {\n          icon && (\n            <div className={`${styles.icon} ${icon.color}`}>\n              <WrappedSlIcon name={icon.name} />\n            </div>\n          )\n        }\n        <div>\n          {title && <div className={styles.contentTitle}>{title}</div>}\n          <div style={contentStyle}>\n            {content}\n          </div>\n        </div>\n      </div>\n      {type === \"confirm\" && (\n        <WrappedSlButton slot=\"footer\" onClick={onCancelClick}>\n          {i18n.t(`${NS}:${K.CANCEL}`)}\n        </WrappedSlButton>\n      )}\n      <WrappedSlButton slot=\"footer\" variant=\"primary\" onClick={onOkClick}>\n        {i18n.t(`${NS}:${K.OK}`)}\n      </WrappedSlButton>\n    </WrappedSlDialog>\n  )\n}\n\ncustomElements.define(\n  \"shoelace.show-dialog\",\n  createProviderClass(showDialog)\n);\n","import { createProviderClass } from \"@next-core/utils/storyboard\";\n\nexport function showNotification({\n  type,\n  message,\n}: {\n  type?: \"success\" | \"error\" | \"warn\" | \"info\";\n  message: string;\n}) {\n  const notification = document.createElement(\"sl-alert\") as any;\n  const icon = document.createElement(\"sl-icon\") as any;\n  icon.slot = \"icon\";\n  switch (type) {\n    case \"success\":\n      notification.variant = \"success\";\n      icon.name = \"check2-circle\";\n      break;\n    case \"error\":\n      notification.variant = \"danger\";\n      icon.name = \"exclamation-octagon\";\n      break;\n    case \"warn\":\n      notification.variant = \"warning\";\n      icon.name = \"exclamation-triangle\";\n      break;\n    default:\n      notification.variant = \"primary\";\n      icon.name = \"info-circle\";\n  }\n  notification.duration = 3000;\n  const text = document.createTextNode(message);\n  notification.append(icon, text);\n  notification.toast();\n}\n\ncustomElements.define(\n  \"shoelace.show-notification\",\n  createProviderClass(showNotification)\n);\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root,\\n.sl-theme-dark{--sl-z-index-drawer:1000;--sl-z-index-dialog:1000;--sl-z-index-dropdown:1050;--sl-z-index-toast:1000;--sl-z-index-tooltip:1070}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dialog--hAzMwQlA::part(header-actions){display:none}.body--R5m6BIXa{display:flex;gap:var(--sl-spacing-large)}.contentTitle--m2pcYgP7{margin-bottom:var(--sl-spacing-medium);font-size:var(--sl-font-size-medium);font-weight:700}.icon--ORHCMsou{font-size:var(--sl-font-size-large)}.primary--rGd_FjAl{color:var(--sl-color-primary-600)}.success--RUnq1Umo{color:var(--sl-color-success-600)}.warning--kB4gsPXr{color:var(--sl-color-warning-600)}.danger--Io1rUve7{color:var(--sl-color-danger-600)}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"dialog\": \"dialog--hAzMwQlA\",\n\t\"body\": \"body--R5m6BIXa\",\n\t\"contentTitle\": \"contentTitle--m2pcYgP7\",\n\t\"icon\": \"icon--ORHCMsou\",\n\t\"primary\": \"primary--rGd_FjAl\",\n\t\"success\": \"success--RUnq1Umo\",\n\t\"warning\": \"warning--kB4gsPXr\",\n\t\"danger\": \"danger--Io1rUve7\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","syncTheme","theme","document","documentElement","classList","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","setBasePath","__webpack_public_path__","dataset","window","addEventListener","event","detail","WrappedSlIcon","wrapLocalBrick","WrappedSlDialog","onSlHide","onSlRequestClose","WrappedSlButton","K","NS","undefined","DialogComponent","_ref","type","title","content","contentStyle","onOk","onCancel","onHide","ref","useRef","icon","useMemo","name","color","styles","useCallback","e","preventDefault","onOkClick","_ref$current","current","hide","onCancelClick","_ref$current2","React","label","open","noHeader","className","concat","style","slot","onClick","i18n","CANCEL","variant","OK","initializeI18n","en","zh","customElements","define","createProviderClass","props","container","createElement","body","append","root","createRoot","promise","Promise","resolve","reject","render","_extends","unmount","remove","message","notification","duration","text","createTextNode","toast","___CSS_LOADER_EXPORT___","push","module","id","locals"],"sourceRoot":""}